"use strict";(self["webpackChunkwhattoeat"]=self["webpackChunkwhattoeat"]||[]).push([[938],{938:function(e,t,o){o.r(t),o.d(t,{default:function(){return m}});var n=function(){var e=this,t=e._self._c;return t("div",[t("div",{attrs:{id:"map-container"}},[t("div",{attrs:{id:"top-bar"}},[t("button",{attrs:{id:"back-button"},on:{click:e.navigateBack}},[e._v("返回首页")]),t("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"medium",icon:"el-icon-plus",round:"",plain:""},on:{click:e.openMainDialog}},[e._v(" 添加美食 ")])],1),t("div",{ref:"mapDOM",attrs:{id:"map"}})]),t("el-dialog",{attrs:{visible:e.mainDialogVisible,title:"添加美食至分组",width:"50%","close-on-click-modal":!1,top:"40px"},on:{"update:visible":function(t){e.mainDialogVisible=t}}},[t("el-form",{attrs:{inline:!0}},[t("el-form-item",{attrs:{label:"选择分组"}},[t("el-select",{attrs:{placeholder:"请选择组别"},model:{value:e.chooseGroup,callback:function(t){e.chooseGroup=t},expression:"chooseGroup"}},e._l(e.foodGroups,(function(e){return t("el-option",{key:e.name,attrs:{label:e.name,value:e.name}})})),1)],1)],1),t("el-input",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{placeholder:"搜索美食",clearable:""},model:{value:e.searchQuery,callback:function(t){e.searchQuery=t},expression:"searchQuery"}}),t("div",{staticClass:"scrollable-food-list"},[t("ul",e._l(e.filteredShops,(function(o){return t("li",{key:o.name,staticClass:"shop-item"},[t("span",[e._v(e._s(o.name))]),e.isFoodInCurrentGroup(o.name)?t("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.removeFood(o.name)}}},[e._v(" 删除 ")]):t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.addToGroup(o.name)}}},[e._v(" 添加 ")])],1)})),0)]),t("div",{staticClass:"food-list"},[t("h4",[e._v("当前组别："+e._s(e.chooseGroup))]),t("el-input",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{placeholder:"搜索组别美食",clearable:""},model:{value:e.searchFood,callback:function(t){e.searchFood=t},expression:"searchFood"}}),e._l(e.filteredFoods,(function(o,n){return t("el-tag",{key:n,staticStyle:{margin:"5px"},attrs:{closable:""},on:{close:function(t){return e.removeFood(o)}}},[e._v(" "+e._s(o)+" ")])}))],2)],1)],1)},a=[],i=(o(4114),o(8992),o(4520),o(2577),o(3949),o(1454),o(3560)),l=o.n(i),d=o(3518);const s=[{name:"二期张阿姨月亮馍",longitude:120.38263,latitude:30.312618},{name:"二期久螺螺蛳粉",longitude:120.382167,latitude:30.312296},{name:"二期西门沙县小吃",longitude:120.382012,latitude:30.311947},{name:"二期华莱士",longitude:120.382022,latitude:30.312942},{name:"二期小杭烤冷面",longitude:120.382077,latitude:30.312848},{name:"二期麦当劳",longitude:120.382167,latitude:30.312506},{name:"二期新安江酸菜鱼",longitude:120.382167,latitude:30.312506},{name:"二期福味将港式煲仔饭",longitude:120.38267,latitude:30.312713},{name:"二期柳星螺蛳粉",longitude:120.382529,latitude:30.312666},{name:"二期山东杂粮煎饼",longitude:120.382624,latitude:30.312384},{name:"二期里脊肉饼",longitude:120.382659,latitude:30.312319},{name:"二期西安肉夹馍",longitude:120.382921,latitude:30.312346},{name:"二期陕西面馆",longitude:120.382927,latitude:30.312529},{name:"二期浅草君",longitude:120.382836,latitude:30.312628},{name:"二期烤鸭",longitude:120.382984,latitude:30.312489},{name:"二期重庆小面",longitude:120.383374,latitude:30.312362},{name:"二期东北水饺",longitude:120.383472,latitude:30.312211},{name:"二期擂饭",longitude:120.383139,latitude:30.312134},{name:"二期悦卜瘦肉丸",longitude:120.383251,latitude:30.312748},{name:"二期元小咸温州小吃",longitude:120.383278,latitude:30.312676},{name:"二期东北涮串",longitude:120.382842,latitude:30.312902},{name:"二期广东肠粉",longitude:120.382538,latitude:30.312159},{name:"二期顶鲜花甲",longitude:120.382464,latitude:30.312312},{name:"一期张府园大碗面",longitude:120.382464,latitude:30.312312},{name:"一期金粥园潮汕砂锅粥",longitude:120.384561,latitude:30.31213},{name:"一期桥头鸡公煲",longitude:120.384453,latitude:30.311961},{name:"一期东北炒菜馆",longitude:120.384533,latitude:30.312023},{name:"一期塔可星",longitude:120.384754,latitude:30.311937},{name:"一期肯德基",longitude:120.384525,latitude:30.311503},{name:"一期蛋包饭",longitude:120.384664,latitude:30.311762},{name:"一期必胜客",longitude:120.384145,latitude:30.311525},{name:"一期米村拌饭",longitude:120.385599,latitude:30.311724},{name:"一期陈八两面家",longitude:120.385614,latitude:30.31163},{name:"一期钱小匠爆汁牛肉饭",longitude:120.385699,latitude:30.311908},{name:"一期袁记云饺",longitude:120.385345,latitude:30.311739},{name:"一期肥牛盖饭",longitude:120.385144,latitude:30.311746},{name:"一期韩式炸鸡",longitude:120.385246,latitude:30.312123},{name:"一期新安江酸菜鱼",longitude:120.385923,latitude:30.311967},{name:"一期东北米线",longitude:120.386398,latitude:30.311853},{name:"一期张亮麻辣烫",longitude:120.3865,latitude:30.311856},{name:"一期重庆鸡公煲",longitude:120.386487,latitude:30.311853},{name:"一期兴汇奇黄焖鸡",longitude:120.3861,latitude:30.311755},{name:"一期膳当家黄焖鸡",longitude:120.386325,latitude:30.311783},{name:"一期吉祥阁鸡公煲",longitude:120.386505,latitude:30.311783},{name:"一期牛肉粉",longitude:120.386505,latitude:30.311783},{name:"一期源香山沙县小吃",longitude:120.386344,latitude:30.311505},{name:"一期隆江猪脚饭",longitude:120.386601,latitude:30.311504},{name:"一期平原大刀鲜肉饼",longitude:120.386245,latitude:30.311486}];var u={name:"BaolongSnackMap",data(){return{shopData:s,map:null,chooseGroup:"",mainDialogVisible:!1,searchQuery:"",searchFood:""}},computed:{...(0,d.L8)(["foodGroups","selectedGroup","selectedGroupFoods"]),filteredShops(){return this.shopData.filter((e=>e.name.toLowerCase().includes(this.searchQuery.toLowerCase())))},filteredFoods(){return this.selectedGroupFoods.filter((e=>e.includes(this.searchFood)))}},watch:{chooseGroup(e){this.updateSelectedGroup(e)}},methods:{...(0,d.PY)(["deleteFoodFromGroup","updateSelectedGroup"]),isFoodInCurrentGroup(e){const t=this.foodGroups.find((e=>e.name===this.chooseGroup));return!!t&&t.foods.includes(e)},removeFood(e){this.deleteFoodFromGroup({groupName:this.chooseGroup,food:e}),this.$message.success(`已从分组 ${this.chooseGroup} 删除 ${e}！`)},navigateBack(){this.$router.push("/")},openMainDialog(){this.searchQuery="",this.mainDialogVisible=!0},addToGroup(e,t=this.chooseGroup){t?(this.$store.commit("addFoodToGroup",{groupName:t,food:e}),this.$message.success(`已将 ${e} 添加到分组 ${t}`)):this.$message.error("请先选择一个分组")},initializeMap(){l().load({key:"0cbff43837a69935983f7c73d0172d35",version:"2.0"}).then((e=>{this.map=new e.Map(this.$refs["mapDOM"],{zoom:18,center:[120.384606,30.312443],viewMode:"2D",dragEnable:!1,zoomEnable:!1,rotateEnable:!1}),this.addMarkers(e)})).catch((e=>console.error("高德地图加载失败：",e)))},addMarkers(e){const t=o(4609);this.shopData.forEach((o=>{const n=`\n\t\t\t\t\t\t\t\t<div class="custom-content-marker" style="position: relative; text-align: center;">\n\t\t\t\t\t\t\t\t\t<img src="${t}" style="display: block; margin: 0 auto; width: 19px; height: 31.5px;">\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t`,a=new e.Marker({position:new e.LngLat(o.longitude,o.latitude),content:n,offset:new e.Pixel(-9.5,-29.5),title:o.name});a.on("click",(()=>{this.searchQuery=o.name,this.mainDialogVisible=!0})),this.map.add(a)})),window.addShopToGroup=e=>{const t=document.getElementById("info-window-group"),o=t?t.value:"";this.addToGroup(e,o)},window.closeInfoWindow=()=>{this.infoWindow&&this.infoWindow.close()}}},mounted(){this.initializeMap()},created(){this.chooseGroup=this.selectedGroup}},r=u,p=o(1656),c=(0,p.A)(r,n,a,!1,null,null,null),m=c.exports},3560:function(e,t,o){o(4114),function(t,o){e.exports=o()}(0,(function(){function e(e){var n=[];return e.AMapUI&&n.push(t(e.AMapUI)),e.Loca&&n.push(o(e.Loca)),Promise.all(n)}function t(e){return new Promise((function(t,o){var d=[];if(e.plugins)for(var s=0;s<e.plugins.length;s+=1)-1==a.AMapUI.plugins.indexOf(e.plugins[s])&&d.push(e.plugins[s]);if(i.AMapUI===n.failed)o("前次请求 AMapUI 失败");else if(i.AMapUI===n.notload){i.AMapUI=n.loading,a.AMapUI.version=e.version||a.AMapUI.version,s=a.AMapUI.version;var u=document.body||document.head,r=document.createElement("script");r.type="text/javascript",r.src="https://webapi.amap.com/ui/"+s+"/main.js",r.onerror=function(e){i.AMapUI=n.failed,o("请求 AMapUI 失败")},r.onload=function(){if(i.AMapUI=n.loaded,d.length)window.AMapUI.loadUI(d,(function(){for(var e=0,o=d.length;e<o;e++){var n=d[e].split("/").slice(-1)[0];window.AMapUI[n]=arguments[e]}for(t();l.AMapUI.length;)l.AMapUI.splice(0,1)[0]()}));else for(t();l.AMapUI.length;)l.AMapUI.splice(0,1)[0]()},u.appendChild(r)}else i.AMapUI===n.loaded?e.version&&e.version!==a.AMapUI.version?o("不允许多个版本 AMapUI 混用"):d.length?window.AMapUI.loadUI(d,(function(){for(var e=0,o=d.length;e<o;e++){var n=d[e].split("/").slice(-1)[0];window.AMapUI[n]=arguments[e]}t()})):t():e.version&&e.version!==a.AMapUI.version?o("不允许多个版本 AMapUI 混用"):l.AMapUI.push((function(e){e?o(e):d.length?window.AMapUI.loadUI(d,(function(){for(var e=0,o=d.length;e<o;e++){var n=d[e].split("/").slice(-1)[0];window.AMapUI[n]=arguments[e]}t()})):t()}))}))}function o(e){return new Promise((function(t,o){if(i.Loca===n.failed)o("前次请求 Loca 失败");else if(i.Loca===n.notload){i.Loca=n.loading,a.Loca.version=e.version||a.Loca.version;var d=a.Loca.version,s=a.AMap.version.startsWith("2"),u=d.startsWith("2");if(s&&!u||!s&&u)o("JSAPI 与 Loca 版本不对应！！");else{s=a.key,u=document.body||document.head;var r=document.createElement("script");r.type="text/javascript",r.src="https://webapi.amap.com/loca?v="+d+"&key="+s,r.onerror=function(e){i.Loca=n.failed,o("请求 AMapUI 失败")},r.onload=function(){for(i.Loca=n.loaded,t();l.Loca.length;)l.Loca.splice(0,1)[0]()},u.appendChild(r)}}else i.Loca===n.loaded?e.version&&e.version!==a.Loca.version?o("不允许多个版本 Loca 混用"):t():e.version&&e.version!==a.Loca.version?o("不允许多个版本 Loca 混用"):l.Loca.push((function(e){e?o(e):o()}))}))}if(!window)throw Error("AMap JSAPI can only be used in Browser.");var n;(function(e){e.notload="notload",e.loading="loading",e.loaded="loaded",e.failed="failed"})(n||(n={}));var a={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},i={AMap:n.notload,AMapUI:n.notload,Loca:n.notload},l={AMap:[],AMapUI:[],Loca:[]},d=[],s=function(e){"function"==typeof e&&(i.AMap===n.loaded?e(window.AMap):d.push(e))};return{load:function(t){return new Promise((function(o,l){if(i.AMap==n.failed)l("");else if(i.AMap==n.notload){var u=t.key,r=t.version,p=t.plugins;u?(window.AMap&&"lbs.amap.com"!==location.host&&l("禁止多种API加载方式混用"),a.key=u,a.AMap.version=r||a.AMap.version,a.AMap.plugins=p||a.AMap.plugins,i.AMap=n.loading,r=document.body||document.head,window.___onAPILoaded=function(a){if(delete window.___onAPILoaded,a)i.AMap=n.failed,l(a);else for(i.AMap=n.loaded,e(t).then((function(){o(window.AMap)}))["catch"](l);d.length;)d.splice(0,1)[0]()},p=document.createElement("script"),p.type="text/javascript",p.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+a.AMap.version+"&key="+u+"&plugin="+a.AMap.plugins.join(","),p.onerror=function(e){i.AMap=n.failed,l(e)},r.appendChild(p)):l("请填写key")}else if(i.AMap==n.loaded)if(t.key&&t.key!==a.key)l("多个不一致的 key");else if(t.version&&t.version!==a.AMap.version)l("不允许多个版本 JSAPI 混用");else{if(u=[],t.plugins)for(r=0;r<t.plugins.length;r+=1)-1==a.AMap.plugins.indexOf(t.plugins[r])&&u.push(t.plugins[r]);u.length?window.AMap.plugin(u,(function(){e(t).then((function(){o(window.AMap)}))["catch"](l)})):e(t).then((function(){o(window.AMap)}))["catch"](l)}else if(t.key&&t.key!==a.key)l("多个不一致的 key");else if(t.version&&t.version!==a.AMap.version)l("不允许多个版本 JSAPI 混用");else{var c=[];if(t.plugins)for(r=0;r<t.plugins.length;r+=1)-1==a.AMap.plugins.indexOf(t.plugins[r])&&c.push(t.plugins[r]);s((function(){c.length?window.AMap.plugin(c,(function(){e(t).then((function(){o(window.AMap)}))["catch"](l)})):e(t).then((function(){o(window.AMap)}))["catch"](l)}))}}))},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,a={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},i={AMap:n.notload,AMapUI:n.notload,Loca:n.notload},l={AMap:[],AMapUI:[],Loca:[]}}}}))},4609:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAA/CAYAAACM5Lr9AAAFkklEQVR42s3VaWxUVRjG8ddiEKPRxAQTCVSWLnZaWmjpTgulpYUBExP9Agou4IKAogUKAgItlNJCgUIXINFPfsFoDCjibkQRI0QIICAQWUpZugKtpcv0+DxyYqaTe2/vTLf58Etu7znnPf+0k44opQw5i5qsjIFs2APHoBZatFq+02vZeq94yyKs0dOjsAzOTCtuVtNKWtX0UpeaXqHU07tgt4ZnvuMa93Avz/CsniE2WIQV3iEaCDnQ8F/MTgZ4h2d4ljNgmZ4pFszDpmIRIuFP57YWDMcFu7uHMziLMyEKxJBl2MbbM6DZub2NQ3sUZ3K2vkMMGIdNKbi1ADqcZe1q2i7VKzibd8BCEE8GUQ3PQ4ez3KWcGNCbeAfv0neKm85hWRvqo+Hu1LJ2HuwTvAt3tkAciKbDIDO/7iE4l7X9rpqCA30pa3uLwt3nYRAIuIfV5mcWN6msnapf8G405IGQMGry+prB0DiloqPfwng3G3SLDltXnTt5S6PK3NnRr9jAFhDJyLsZAJcz8SGcjOr+xAa0XGGTpOfeSMrYUKcyKlx+gS1oSkbY9VXpm2+rjHKXX2ALm2TS2qq96duaVHp5u19gC5skbc3V05N23FWT8NIfsIVNkra6siGttE2llbX7h9JWhaZ6mfj+lfaJZW3Kn6DJJRNWXWqbgN+Y39jRqtDUKKkrL15PxfdjammrfyhpVmiqlNQVfx9KwX/cFJT6A7awSVLeu1CeUlinxu9o8QsphbUKTWUyfvn5Wcm511QSXvoDtrBJkpedewzaE/E58wdsYZMopSQ55+z+pKK6fo9KKqpXaDkAIgxLWnomK3H1JZVQ0tyv2ICW6XAvLHHJ6QD4K6GgRsVjQ3/g3WzQLffCKGHJqfHgisOXaNy2f/oU7+TdukGIUW5xJ0vic6+oWGzsS7yTd4NoncPiF594GC7FFlSrcVub+gTv4p36btE6h1Fc9nFn7IpzKmZrY5/gXbwTxI0O8xD77rGPYtZeVtE42Jt4B+8C8WAcNu6dPwZDzVh8PYzdcqdXcDbvgMdBPDHEOG7R0Xkxqy6oKAzpDZzNO0AMmIfFvH1kABwZk1epIotv9yjOxOyj+g4xYB4W/dbvlAAdozGsJ3Gmni0mzMPGLvyN6IMo/NojNt/qEZyFmR+CWLAIW3CYaDDUR+D/TTgGdwdncJaeKRbMw8bM/9XdosjlZ5VjU0O3cAZngXTBPCzqzV/cPQAXHeuqVBgu8IVj/TXFGXqWdME8LHLez55mRSw9qUI31fuEZzFjNogNFmFvHPQUACfC8IUbUlTvlbDcSsWzeobYYB42+vWfjDwbnn3c6zCewdnnQGwyD4t47UcjAXA2JO+qCi6ss4V7eUafFZuswn4wM8ex+LgKwqV2cC/OzAXxgnlY+KvfmxkIVaPyr6tRhbWWuId79RnxgnmYY+53VlaHLj2lRm6stRSSc0ph7xoQL1mEzfnWyhPQNrKgGgE1hrjGPTAExEvmYWGvfNOVPUErz6vhiDDCNez5GMQHVmFfd2Vq6MLD6smCGkNc4x4QH5iHPfXyV125H64NX1eFkOpO+I5reo/4wDws9KUDdhSPxFdNIGLc8R3XQHxkFfalHYnB8w6qYRuqO+E7roH4yDws5MX9dtwHlYF5lQi6qYjPfKfXxEcWYbO/sKtsBP50QxFFI/D/De8qQLrBPCwYizY9M2r+of/D+Mx3ID6zDJv1uaVwGfAIBDqGJsbhZ9eQ/BuK+OwYlhzPNe7hXh9Yhe0zwqBB4IAYouCZn1wIXH5GEZ/d1sjBMzzrBfOwoBf2GWFYBMS4C03JWRA087OaoBmf3uCz5zrP8Kx9lmF7jXiE2RbBs95ghB0MIo8/pS0OeJAzvOBLmKY//BAGURBN+jmMa3qPkLdh/wKOL8SpLbnYFgAAAABJRU5ErkJggg=="}}]);