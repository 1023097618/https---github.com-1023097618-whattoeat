"use strict";(self["webpackChunkwhattoeat"]=self["webpackChunkwhattoeat"]||[]).push([[8124],{8124:function(e,t,o){o.r(t),o.d(t,{default:function(){return F}});var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"app"},[t("div",{staticClass:"background"}),e._m(0),t("div",{staticClass:"content"},[t("h1",{staticClass:"title"},[e._v(e._s(e.currentDish))]),e.isRunning?e._e():t("el-button",{attrs:{type:"primary"},on:{click:e.startRandom}},[e._v(e._s(e.startText))]),e.isRunning?t("el-button",{attrs:{type:"danger"},on:{click:e.stopRandom}},[e._v("停止")]):e._e(),t("div",{staticClass:"actions"},[t("el-button",{attrs:{type:"text"},on:{click:e.customize}},[e._v("自定义")]),t("el-button",{attrs:{type:"text"},on:{click:e.openMoreDialog}},[e._v("更多")])],1)],1),t("FoodCustomizeDialog",{attrs:{visible:e.isCustomizeDialogVisible},on:{"update:visible":function(t){e.isCustomizeDialogVisible=t}}}),t("MoreDialog",{attrs:{visible:e.isMoreDialogVisible},on:{"update:visible":function(t){e.isMoreDialogVisible=t}}})],1)},s=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"logo"},[t("img",{attrs:{src:o(9413),alt:"Logo"}})])}],l=(o(4114),function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{title:"美食分组",visible:e.localVisible,width:"600px"},on:{"update:visible":function(t){e.localVisible=t},close:e.handleClose}},[t("div",[t("el-select",{staticStyle:{width:"calc(100% - 120px)","margin-bottom":"20px"},attrs:{placeholder:"选择组别"},on:{change:e.handleGroupChange},model:{value:e.currentSelectedGroup,callback:function(t){e.currentSelectedGroup=t},expression:"currentSelectedGroup"}},e._l(e.foodGroups,(function(e){return t("el-option",{key:e.name,attrs:{label:e.name,value:e.name}})})),1),t("el-button",{staticStyle:{width:"100px","margin-left":"10px"},attrs:{type:"primary"},on:{click:e.addGroup}},[e._v(" 新建组 ")]),t("el-input",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{placeholder:"搜索食物",clearable:""},on:{input:e.handleSearch},model:{value:e.searchQuery,callback:function(t){e.searchQuery=t},expression:"searchQuery"}}),t("div",{staticClass:"food-list"},[t("h4",[e._v(" 当前组别："+e._s(e.currentSelectedGroup)+" "),"默认组"!==e.currentSelectedGroup?t("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"danger",size:"mini"},on:{click:e.removeGroup}},[e._v(" 删除组 ")]):e._e()],1),e._l(e.filteredFoods,(function(o,i){return t("el-tag",{key:i,staticStyle:{margin:"5px"},attrs:{closable:""},on:{close:function(t){return e.removeFood(o)}}},[e._v(" "+e._s(o)+" ")])}))],2),t("div",{staticStyle:{"margin-top":"20px"}},[t("el-input",{staticStyle:{width:"calc(100% - 110px)",display:"inline-block"},attrs:{placeholder:"添加新食物",clearable:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addFood.apply(null,arguments)}},model:{value:e.newFood,callback:function(t){e.newFood=t},expression:"newFood"}}),t("el-button",{staticStyle:{width:"100px"},attrs:{type:"primary"},on:{click:e.addFood}},[e._v("添加")])],1)],1)])}),r=[],a=(o(8992),o(4520),o(2577),o(3518)),n={name:"FoodCustomizeDialog",props:{visible:{type:Boolean,required:!0}},data(){return{localVisible:this.visible,searchQuery:"",newFood:""}},computed:{...(0,a.aH)(["foodGroups","selectedGroup"]),currentSelectedGroup:{get(){return this.selectedGroup},set(e){this.updateSelectedGroup(e)}},currentGroupFoods(){const e=this.foodGroups.find((e=>e.name===this.currentSelectedGroup));return e?e.foods:[]},filteredFoods(){return this.searchQuery?this.currentGroupFoods.filter((e=>e.toLowerCase().includes(this.searchQuery.toLowerCase()))):this.currentGroupFoods}},watch:{visible(e){this.localVisible=e},localVisible(e){this.$emit("update:visible",e)}},methods:{...(0,a.PY)(["createGroup","deleteGroup","addFoodToGroup","deleteFoodFromGroup","updateSelectedGroup"]),handleGroupChange(){this.searchQuery=""},handleSearch(){},addGroup(){this.$prompt("请输入新组名","新建组",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((({value:e})=>{e.trim()&&(this.createGroup(e.trim()),this.updateSelectedGroup(e.trim()))})).catch((e=>{console.log(e)}))},removeGroup(){this.$confirm("确定要删除当前组吗？","删除组",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.deleteGroup(this.currentSelectedGroup)})).catch((()=>{}))},addFood(){this.newFood.trim()&&(this.addFoodToGroup({groupName:this.currentSelectedGroup,food:this.newFood.trim()}),this.newFood="")},removeFood(e){this.deleteFoodFromGroup({groupName:this.currentSelectedGroup,food:e})},handleClose(){this.localVisible=!1}}},c=n,u=o(1656),d=(0,u.A)(c,l,r,!1,null,"1a7e54fb",null),p=d.exports,h=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{title:"更多功能",visible:e.localVisible,width:"30%"},on:{"update:visible":function(t){e.localVisible=t},close:e.handleClose}},[t("div",{staticClass:"more-dialog-content"},[t("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"1"}},[t("el-menu-item",{attrs:{index:"1"},on:{click:function(t){return e.navigateTo("/more/BaolongSnackMap")}}},[e._v("宝龙广场美食地图")]),t("el-menu-item",{attrs:{index:"2"},on:{click:function(t){return e.navigateTo("/more/ChinaSnackMap")}}},[e._v("中国美食地图")])],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.closeDialog}},[e._v("关闭")])],1)])},m=[],b={name:"MoreDialog",props:{visible:{type:Boolean,required:!0}},data(){return{localVisible:this.visible}},watch:{visible(e){this.localVisible=e},localVisible(e){this.$emit("update:visible",e)}},methods:{closeDialog(){this.localVisible=!1},handleClose(){this.$emit("update:visible",!1)},navigateTo(e){this.$router.push(e),this.closeDialog()}}},v=b,g=(0,u.A)(v,h,m,!1,null,"688206d2",null),f=g.exports,G={name:"MoreView",data(){return{currentDish:"铁板烧",startText:"吃什么？",isRunning:!1,isCustomizeDialogVisible:!1,isMoreDialogVisible:!1}},components:{FoodCustomizeDialog:p,MoreDialog:f},computed:{...(0,a.L8)(["selectedGroupFoods"])},methods:{ToMore(){this.$router.push("/more")},customize(){this.isCustomizeDialogVisible=!0},openMoreDialog(){this.isMoreDialogVisible=!0},startRandom(){this.isRunning=!0,this.startText="不行，换一个",this.timer=setInterval((()=>{const e=Math.floor(Math.random()*this.selectedGroupFoods.length);this.currentDish=this.selectedGroupFoods[e]}),100)},stopRandom(){this.isRunning=!1,clearInterval(this.timer)}},created(){const e=Math.floor(Math.random()*this.selectedGroupFoods.length);this.currentDish=this.selectedGroupFoods[e]}},y=G,_=(0,u.A)(y,i,s,!1,null,"d77e6c7e",null),F=_.exports},9413:function(e,t,o){e.exports=o.p+"img/eat-logo.5e77b398.png"}}]);